import { ThumbnailsView } from '../../models/constants';
import { HorizontalCommonAdapter, VerticalCommonAdapter } from './common-adapter';
export class HorizontalThumbAdapter extends HorizontalCommonAdapter {
    constructor(slider, config) {
        super(slider, config);
        this.slider = slider;
        this.config = config;
    }
    get thumbSize() {
        return this.config.thumbWidth;
    }
    get isContentLessThanContainer() {
        return this.slider.clientWidth >= this.slider.firstElementChild.clientWidth;
    }
    getCentralisedScrollToValue(el, behavior, thumbView) {
        let position = el.offsetLeft;
        if (thumbView === ThumbnailsView.Default) {
            position -= (this.clientSize / 2) - (el.clientWidth / 2);
        }
        return {
            start: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getScrollToValue(el, behavior) {
        let position = el.offsetLeft - ((this.clientSize - el.clientWidth) / 2);
        return {
            start: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getCentralizerStartSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientWidth;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.firstElementChild?.clientWidth / 2);
    }
    getCentralizerEndSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientWidth;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.lastElementChild?.clientWidth / 2);
    }
}
export class VerticalThumbAdapter extends VerticalCommonAdapter {
    constructor(slider, config) {
        super(slider, config);
        this.slider = slider;
        this.config = config;
    }
    get thumbSize() {
        return this.config.thumbHeight;
    }
    get isContentLessThanContainer() {
        return this.slider.clientHeight >= this.slider.firstElementChild.clientHeight;
    }
    getCentralisedScrollToValue(el, behavior, thumbView) {
        let position = el.offsetTop;
        if (thumbView === ThumbnailsView.Default) {
            position -= (this.clientSize / 2) - (el.clientHeight / 2);
        }
        return {
            top: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getScrollToValue(el, behavior) {
        const position = el.offsetTop - ((this.clientSize - el.clientHeight) / 2);
        return {
            top: position,
            duration: behavior === 'smooth' ? this.config.slidingDuration : 0,
            easing: this.config.slidingEase
        };
    }
    getCentralizerStartSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientHeight;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.firstElementChild?.clientHeight / 2);
    }
    getCentralizerEndSize() {
        if (this.isContentLessThanContainer) {
            const size = this.clientSize - this.slider.firstElementChild.clientHeight;
            return size / 2;
        }
        return (this.clientSize / 2) - (this.slider.firstElementChild.lastElementChild?.clientHeight / 2);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh1bWItYWRhcHRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy1nYWxsZXJ5L3NyYy9saWIvY29tcG9uZW50cy9hZGFwdGVycy90aHVtYi1hZGFwdGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFeEQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFJbEYsTUFBTSxPQUFPLHNCQUF1QixTQUFRLHVCQUF1QjtJQVVqRSxZQUFtQixNQUFtQixFQUFTLE1BQXFCO1FBQ2xFLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFETCxXQUFNLEdBQU4sTUFBTSxDQUFhO1FBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBZTtJQUVwRSxDQUFDO0lBVkQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsSUFBSSwwQkFBMEI7UUFDNUIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztJQUM5RSxDQUFDO0lBTUQsMkJBQTJCLENBQUMsRUFBZSxFQUFFLFFBQXdCLEVBQUUsU0FBZ0M7UUFDckcsSUFBSSxRQUFRLEdBQVcsRUFBRSxDQUFDLFVBQVUsQ0FBQztRQUNyQyxJQUFJLFNBQVMsS0FBSyxjQUFjLENBQUMsT0FBTyxFQUFFO1lBQ3hDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsT0FBTztZQUNMLEtBQUssRUFBRSxRQUFRO1lBQ2YsUUFBUSxFQUFFLFFBQVEsS0FB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QUFFLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNwRyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2NvbmZpZy5tb2RlbCc7XG5pbXBvcnQgeyBUaHVtYm5haWxzVmlldyB9IGZyb20gJy4uLy4uL21vZGVscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGh1bWJTbGlkZXJBZGFwdGVyIH0gZnJvbSAnLi9iYXNlLWFkYXB0ZXInO1xuaW1wb3J0IHsgSG9yaXpvbnRhbENvbW1vbkFkYXB0ZXIsIFZlcnRpY2FsQ29tbW9uQWRhcHRlciB9IGZyb20gJy4vY29tbW9uLWFkYXB0ZXInO1xuaW1wb3J0IHsgU21vb3RoU2Nyb2xsVG9PcHRpb25zIH0gZnJvbSAnLi4vLi4vc21vb3RoLXNjcm9sbCc7XG5cblxuZXhwb3J0IGNsYXNzIEhvcml6b250YWxUaHVtYkFkYXB0ZXIgZXh0ZW5kcyBIb3Jpem9udGFsQ29tbW9uQWRhcHRlciBpbXBsZW1lbnRzIFRodW1iU2xpZGVyQWRhcHRlciB7XG5cbiAgZ2V0IHRodW1iU2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy50aHVtYldpZHRoO1xuICB9XG5cbiAgZ2V0IGlzQ29udGVudExlc3NUaGFuQ29udGFpbmVyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnNsaWRlci5jbGllbnRXaWR0aCA+PSB0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRXaWR0aDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzbGlkZXI6IEhUTUxFbGVtZW50LCBwdWJsaWMgY29uZmlnOiBHYWxsZXJ5Q29uZmlnKSB7XG4gICAgc3VwZXIoc2xpZGVyLCBjb25maWcpO1xuICB9XG5cbiAgZ2V0Q2VudHJhbGlzZWRTY3JvbGxUb1ZhbHVlKGVsOiBIVE1MRWxlbWVudCwgYmVoYXZpb3I6IFNjcm9sbEJlaGF2aW9yLCB0aHVtYlZpZXc6ICdkZWZhdWx0JyB8ICdjb250YWluJyk6IFNtb290aFNjcm9sbFRvT3B0aW9ucyB7XG4gICAgbGV0IHBvc2l0aW9uOiBudW1iZXIgPSBlbC5vZmZzZXRMZWZ0O1xuICAgIGlmICh0aHVtYlZpZXcgPT09IFRodW1ibmFpbHNWaWV3LkRlZmF1bHQpIHtcbiAgICAgIHBvc2l0aW9uIC09ICh0aGlzLmNsaWVudFNpemUgLyAyKSAtIChlbC5jbGllbnRXaWR0aCAvIDIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IHBvc2l0aW9uLFxuICAgICAgZHVyYXRpb246IGJlaGF2aW9yID09PSAnc21vb3RoJyA/IHRoaXMuY29uZmlnLnNsaWRpbmdEdXJhdGlvbiA6IDAsXG4gICAgICBlYXNpbmc6IHRoaXMuY29uZmlnLnNsaWRpbmdFYXNlXG4gICAgfTtcbiAgfVxuXG4gIGdldFNjcm9sbFRvVmFsdWUoZWw6IEhUTUxFbGVtZW50LCBiZWhhdmlvcjogU2Nyb2xsQmVoYXZpb3IpOiBTbW9vdGhTY3JvbGxUb09wdGlvbnMge1xuICAgIGxldCBwb3NpdGlvbiA9IGVsLm9mZnNldExlZnQgLSAoKHRoaXMuY2xpZW50U2l6ZSAtIGVsLmNsaWVudFdpZHRoKSAvIDIpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogcG9zaXRpb24sXG4gICAgICBkdXJhdGlvbjogYmVoYXZpb3IgPT09ICdzbW9vdGgnID8gdGhpcy5jb25maWcuc2xpZGluZ0R1cmF0aW9uIDogMCxcbiAgICAgIGVhc2luZzogdGhpcy5jb25maWcuc2xpZGluZ0Vhc2VcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q2VudHJhbGl6ZXJTdGFydFNpemUoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5pc0NvbnRlbnRMZXNzVGhhbkNvbnRhaW5lcikge1xuICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuY2xpZW50U2l6ZSAtIHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoO1xuICAgICAgcmV0dXJuIHNpemUgLyAyO1xuICAgIH1cbiAgICByZXR1cm4gKHRoaXMuY2xpZW50U2l6ZSAvIDIpIC0gKHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkPy5jbGllbnRXaWR0aCAvIDIpO1xuICB9XG5cbiAgZ2V0Q2VudHJhbGl6ZXJFbmRTaXplKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNDb250ZW50TGVzc1RoYW5Db250YWluZXIpIHtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmNsaWVudFNpemUgLSB0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRXaWR0aDtcbiAgICAgIHJldHVybiBzaXplIC8gMjtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLmNsaWVudFNpemUgLyAyKSAtICh0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5sYXN0RWxlbWVudENoaWxkPy5jbGllbnRXaWR0aCAvIDIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZXJ0aWNhbFRodW1iQWRhcHRlciBleHRlbmRzIFZlcnRpY2FsQ29tbW9uQWRhcHRlciBpbXBsZW1lbnRzIFRodW1iU2xpZGVyQWRhcHRlciB7XG5cbiAgZ2V0IHRodW1iU2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy50aHVtYkhlaWdodDtcbiAgfVxuXG4gIGdldCBpc0NvbnRlbnRMZXNzVGhhbkNvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zbGlkZXIuY2xpZW50SGVpZ2h0ID49IHRoaXMuc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkLmNsaWVudEhlaWdodDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzbGlkZXI6IEhUTUxFbGVtZW50LCBwdWJsaWMgY29uZmlnOiBHYWxsZXJ5Q29uZmlnKSB7XG4gICAgc3VwZXIoc2xpZGVyLCBjb25maWcpO1xuICB9XG5cbiAgZ2V0Q2VudHJhbGlzZWRTY3JvbGxUb1ZhbHVlKGVsOiBIVE1MRWxlbWVudCwgYmVoYXZpb3I6IFNjcm9sbEJlaGF2aW9yLCB0aHVtYlZpZXc6ICdkZWZhdWx0JyB8ICdjb250YWluJyk6IFNtb290aFNjcm9sbFRvT3B0aW9ucyB7XG4gICAgbGV0IHBvc2l0aW9uOiBudW1iZXIgPSBlbC5vZmZzZXRUb3A7XG4gICAgaWYgKHRodW1iVmlldyA9PT0gVGh1bWJuYWlsc1ZpZXcuRGVmYXVsdCkge1xuICAgICAgcG9zaXRpb24gLT0gKHRoaXMuY2xpZW50U2l6ZSAvIDIpIC0gKGVsLmNsaWVudEhlaWdodCAvIDIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBwb3NpdGlvbixcbiAgICAgIGR1cmF0aW9uOiBiZWhhdmlvciA9PT0gJ3Ntb290aCcgPyB0aGlzLmNvbmZpZy5zbGlkaW5nRHVyYXRpb24gOiAwLFxuICAgICAgZWFzaW5nOiB0aGlzLmNvbmZpZy5zbGlkaW5nRWFzZVxuICAgIH07XG4gIH1cblxuICBnZXRTY3JvbGxUb1ZhbHVlKGVsOiBIVE1MRWxlbWVudCwgYmVoYXZpb3I6IFNjcm9sbEJlaGF2aW9yKTogU21vb3RoU2Nyb2xsVG9PcHRpb25zIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGVsLm9mZnNldFRvcCAtICgodGhpcy5jbGllbnRTaXplIC0gZWwuY2xpZW50SGVpZ2h0KSAvIDIpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHBvc2l0aW9uLFxuICAgICAgZHVyYXRpb246IGJlaGF2aW9yID09PSAnc21vb3RoJyA/IHRoaXMuY29uZmlnLnNsaWRpbmdEdXJhdGlvbiA6IDAsXG4gICAgICBlYXNpbmc6IHRoaXMuY29uZmlnLnNsaWRpbmdFYXNlXG4gICAgfTtcbiAgfVxuXG4gIGdldENlbnRyYWxpemVyU3RhcnRTaXplKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNDb250ZW50TGVzc1RoYW5Db250YWluZXIpIHtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmNsaWVudFNpemUgLSB0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRIZWlnaHQ7XG4gICAgICByZXR1cm4gc2l6ZSAvIDI7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5jbGllbnRTaXplIC8gMikgLSAodGhpcy5zbGlkZXIuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQ/LmNsaWVudEhlaWdodCAvIDIpO1xuICB9XG5cbiAgZ2V0Q2VudHJhbGl6ZXJFbmRTaXplKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNDb250ZW50TGVzc1RoYW5Db250YWluZXIpIHtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmNsaWVudFNpemUgLSB0aGlzLnNsaWRlci5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRIZWlnaHQ7XG4gICAgICByZXR1cm4gc2l6ZSAvIDI7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5jbGllbnRTaXplIC8gMikgLSAodGhpcy5zbGlkZXIuZmlyc3RFbGVtZW50Q2hpbGQubGFzdEVsZW1lbnRDaGlsZD8uY2xpZW50SGVpZ2h0IC8gMik7XG4gIH1cbn1cbiJdfQ==